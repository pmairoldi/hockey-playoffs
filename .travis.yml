language: objective-c
osx_image: xcode9
matrix:
  include:
    - env: PLATFORM="ios"
env:
  global:
    - LANG=en_US.UTF-8
cache:
  bundler: true
  directories:
    - Carthage
before_install:
  - brew update
  - brew upgrade swiftlint || true
  - brew upgrade carthage || true
  - carthage version
  - carthage bootstrap --verbose --platform $PLATFORM --cache-builds
script:
  - bundle exec rake env[http://localhost]
  - bundle exec rake test:$PLATFORM
after_success:
  - bundle exec danger
  - bash <(curl -s https://codecov.io/bash)
  